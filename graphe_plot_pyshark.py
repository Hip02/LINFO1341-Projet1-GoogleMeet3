import matplotlib.pyplot as plt
import numpy as np

data = {'Caméra, Micro': [[65678, 72657, 69666, 55370, 78357, 72707, 75527, 55555, 82764, 73709, 82920, 61433, 86551, 81551, 88865, 76875, 80590, 82654, 81307, 61370, 93305, 110396, 80584, 76832, 79491, 97820, 78089, 80037, 84243, 71242, 79053, 89966, 91054, 78388, 81053, 105246, 92461, 83216, 86596, 69958, 68983, 113684, 112673, 69572, 80411, 67579, 88469, 88454, 69429, 91773, 89657, 86353, 75573, 107437, 97399, 82554, 104566, 84079, 89153, 84292], [98942, 114822, 104182, 125753, 99813, 117060, 112288, 98957, 113539, 116949, 95083, 119101, 145410, 111932, 115665, 112202, 107350, 135468, 100721, 97690, 118733, 75496, 82977, 98273, 144234, 117634, 90495, 104200, 106776, 112809, 97938, 91154, 83959, 99067, 118427, 126306, 109395, 109288, 113903, 104212, 114914, 94514, 85098, 122900, 81950, 90483, 94646, 105615, 112201, 110310, 108532, 115328, 95435, 109357, 109525, 93239, 82393, 109352, 99033, 119987]], 'Micro': [[913, 872, 1926, 903, 300, 801, 741, 31897, 86034, 508, 531, 20310, 508, 430, 404, 18361, 330, 204, 734, 10077, 735, 838, 508, 10991, 2127, 1760, 2223, 33504, 84768, 2277, 2074, 7320, 93699, 2296, 4050, 2278, 2217, 1774, 1791, 34012, 2050, 1111, 419, 27666, 84323, 1913, 2279, 15082, 86578, 2269, 597, 2705, 508, 729, 646, 34478, 730, 508, 703, 716], [2161, 476, 1398, 360, 1998, 2472, 2343, 2161, 4020, 2112, 476, 3374, 1287, 1638, 938, 176, 536, 1385, 2410, 2201, 2244, 2442, 2155, 2086, 5849, 2311, 1459, 548, 738, 637, 640, 914, 604, 632, 2053, 636, 864, 408, 855, 1868, 2543, 2350, 233, 531, 2354, 673, 2130, 2579, 2730, 2503, 2059, 4847, 2101, 2337, 2229, 2094, 2243, 2000, 2859, 2035]], 'Caméra': [[66814, 52161, 74863, 59838, 75654, 71986, 79937, 70301, 90383, 74871, 75609, 81209, 85245, 89331, 72179, 77879, 87024, 90823, 87114, 84396, 90426, 78273, 82163, 63787, 98661, 68694, 88157, 90027, 90908, 75692, 75936, 83953, 95187, 86298, 89952, 74729, 83463, 75505, 73106, 92946, 85117, 93211, 90400, 85726, 87052, 62327, 93067, 71936, 80572, 84811, 87912, 73557, 81708, 91838, 120813, 91217, 101198, 77416, 82212, 91609], [71600, 68784, 59833, 75853, 112038, 93013, 70318, 93421, 68501, 99413, 89213, 80335, 86330, 96835, 100335, 106641, 122457, 119444, 100650, 80776, 96058, 98959, 89201, 110372, 112645, 114248, 101399, 95198, 100747, 103375, 89920, 118765, 112140, 106356, 94650, 100215, 91470, 106953, 100554, 107418, 112814, 126663, 115375, 98685, 84528, 90798, 99781, 113797, 92289, 103552, 104735, 101568, 111360, 145207, 123756, 120389, 96821, 110044, 92332, 99814]], 'Aucun': [[76, 276, 282, 340, 100, 76, 200, 364, 100, 66, 66, 3387, 206, 113754, 200, 192, 100, 113754, 100, 392, 100, 106, 100, 192, 200, 17417, 100, 192, 200, 100, 66, 2046, 100, 5230, 100, 168, 306, 113754, 200, 268, 100, 100, 100, 168, 100, 17401, 306, 168, 100, 100, 66, 3122, 1181, 8372, 100, 268, 206, 6773, 100, 268], [456, 162, 420, 108, 196, 387, 217, 296, 260, 196, 387, 4448, 432, 644, 296, 115, 301, 528, 112, 528, 115, 81, 606, 112, 456, 228, 196, 332, 208, 308, 112, 2623, 358, 444, 568, 162, 308, 620, 128, 444, 112, 196, 416, 124, 332, 228, 494, 115, 301, 296, 336, 5063, 115, 293, 332, 336, 606, 84, 528, 196]]}
samples = 60
X = np.linspace(0, 15, samples+1)[:-1]

i = 0

colors = ['blue', 'orange', 'green', 'red']
for key, val in data.items():

    _out = val[1]
    _out_np = np.array(_out)
    _out_np = _out_np.astype(np.float64)
    _out_np *= (4/1000)
    if (i+1)%2==0: plt.plot(X, _out_np, label=key, color=colors[i])
    print(f"Moyenne de {key} = {np.mean(_out_np)}")
    i += 1


plt.title("Influence du micro seul\n sur la taille totale des paquets envoyés")
plt.ylabel("Taille totale des paquets envoyés\n par seconde [Ko/s]")
plt.xlabel("Temps [s]")
plt.legend()
plt.ylim(-3, 40)
plt.savefig("audio_vs_aucun.pdf")
#plt.show()